<app-menu>
  <form>
    <div class="form-field-row">
      <app-input
        label="Origem"
        [required]="true"
        [fieldReference]="getReference('origin')"
        [options]="locations"
        [isAsyncSelect]="true"
        (btnIsDisabled)="statusBtn($event)"
        (selectedOrigin)="filterLocations($event)"
      ></app-input>
      <app-input
        label="Destino"
        [required]="true"
        [fieldReference]="getReference('destiny')"
        [options]="destinyLocations"
        [isAsyncSelect]="true"
        (btnIsDisabled)="statusBtn($event)"
        [isDisabled]="routerForm.controls['origin'].invalid"
      ></app-input>
    </div>
    <div class="form-field-row">
      <app-input
        label="Data de Partida"
        [required]="true"
        [fieldReference]="getReference('departureDate')"
        [options]="locations"
        [isDatePicker]="true"
        (btnIsDisabled)="statusBtn($event)"
        [editActualLocation]="editActualLocation"
        [isDisabled]="routerForm.controls['destiny'].invalid"
        (resetHourDepartureEmitter)="resetHour()"
      ></app-input>
      <app-input
        label="Horário de Partida"
        [required]="true"
        [fieldReference]="getReference('departureTime')"
        [options]="locations"
        [isTime]="true"
        (btnIsDisabled)="statusBtn($event)"
        [isDisabled]="routerForm.controls['departureDate'].invalid"
        type="time"
        errorMessage="Horário de partida não pode ser anterior a hora atual"
      ></app-input>
    </div>
    <div class="form-field-row">
      <app-input
        label="Duração Estimada"
        [required]="true"
        [fieldReference]="getReference('durationEstimated')"
        [options]="locations"
        [isText]="true"
        (btnIsDisabled)="statusBtn($event)"
        type="text"
        [placeholder]="'06:30'"
        [isDisabled]="routerForm.controls['departureTime'].invalid"
        (calcArriveDateEmitter)="calcArriveDate($event)"
        mask="00:m0"
        suffix=" hora(s)"
      ></app-input>
      <app-input
        label="Previsão de Chegada"
        [fieldReference]="getReference('arriveDate')"
        [isText]="true"
        [editActualLocation]="editActualLocation"
        [isDisabled]="true"
      ></app-input>
    </div>
    <app-button
      class="btn-save"
      text="Salvar Rota"
      type="button"
      [isDisabled]="!btnIsDisabled"
      [isLoading]="isLoading"
      (click)="handleSave()"
    ></app-button>
  </form>
</app-menu>
